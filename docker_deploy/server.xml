<server description="new server">

    <!-- Enable features -->
    <featureManager>
		<feature>jsp-2.3</feature>
		<feature>jdbc-4.1</feature>
		<feature>localConnector-1.0</feature>
		<feature>jaxrs-2.0</feature>
		<feature>servlet-3.1</feature>
		<feature>json-1.0</feature>
		<feature>distributedMap-1.0</feature>
		<feature>appSecurity-2.0</feature>
		<feature>jpa-2.0</feature>
		<feature>ejbPersistentTimer-3.2</feature>
		<feature>ldapRegistry-3.0</feature>
		<feature>concurrent-1.0</feature>
		<feature>jaxb-2.2</feature>
		<feature>restConnector-1.0</feature>
		<feature>mdb-3.2</feature>
		<feature>wasJmsServer-1.0</feature>
		<feature>wasJmsClient-2.0</feature>
		<feature>adminCenter-1.0</feature>
		<feature>ssl-1.0</feature>
		<feature>collectiveMember-1.0</feature>
		<feature>javaMail-1.5</feature>
		<feature>sessionDatabase-1.0</feature>
		<feature>jndi-1.0</feature>
    </featureManager>

    <!-- To access this server from a remote client add a host attribute to the following element, e.g. host="*" -->
    <httpEndpoint httpPort="9080" httpsPort="9443" host="*" id="defaultHttpEndpoint"/>

    <!-- Automatically expand WAR files and EAR files -->
    <applicationManager autoExpand="true"/>
	<library apiTypeVisibility="spec,ibm-api,api,third-party" id="MicoSvcCommonJars">
		<fileset dir="/opt/IBM/lib" includes="*.jar"/>
	</library>
    <applicationMonitor updateTrigger="mbean"/>
		<dataSource id='postgresql-mydb' jdbcDriverRef='postgresql-driver' jndiName='jdbc/microsvcdata'
		            transactional='true' type='javax.sql.ConnectionPoolDataSource'>
		        <properties id='postgresql-mydb-props' 
		          databaseName='wowabcwk'
		          user='wowabcwk'
		          password='NFSmwyFFK-6yh-ONRTAaklzLXAqoL2Vz' 
		          portNumber='5432'
		          serverName='isilo.db.elephantsql.com'/> 
		</dataSource>    
		
		<jdbcDriver id='postgresql-driver' 
		            javax.sql.XADataSource='org.postgresql.xa.PGXADataSource'
		            javax.sql.ConnectionPoolDataSource='org.postgresql.ds.PGConnectionPoolDataSource'            
		            libraryRef='postgresql-library'/>  
		
		<library id='postgresql-library'>       
			    <fileset id='postgresql-fileset'  dir='/opt/IBM/lib'
		        includes='postgresql-42.2.9.jar'/>   
</library>

    <webApplication contextRoot="/rest" id="javarest_microservice" location="/opt/ibm/wlp/usr/servers/defaultServer/dropins/javarest_microservice.war" name="javarest_microservice">
      <classloader apiTypeVisibility="spec,ibm-api,api,third-party" commonLibraryRef="MicoSvcCommonJars" delegation="parentFirst"/>
    </webApplication>
</server>
